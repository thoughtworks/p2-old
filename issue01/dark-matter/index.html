

<!doctype html>
<html lang="en">

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
<title>Magazine | Uncovering Your Data's Dark Matter</title>

<meta name="description" content="Want to see deeper patterns in your data? Try looking at it in a new way, says Jen Smith">

<link rel="shortcut icon" type="image/png" href="/p2/favicon.png" />
<link href="/p2/stylesheets/screen.css" rel="stylesheet" type="text/css" media="all"/>
<link rel="alternate" type="application/rss+xml" title="P2 Magazine" href="http://thoughtworks.github.io/p2/atom.xml"/>
<script src="http://modernizr.com/downloads/modernizr-2.5.3.js"></script>
<script src="/p2/assets/js/keymaster.min.js"></script>
</head>

<body class="wrapper">
<nav class="paginate">
  
    <a id="prev" href="/p2/issue01/index/" class="prev">&#9664;</a>
    <script type="text/javascript">
      key('left', function() {
        window.open($("#prev")[0].href, '_self', false);
      });
    </script>
  
  
    <a id="next" href="/p2/issue01/big-data/" class="next">&#9654;</a>
    <script type="text/javascript">
      key('right', function(){
        window.open($("#next")[0].href, '_self', false);
      });
    </script>
  
</nav>

<div class="container">
    <section class="page">
    <nav class="issues">
    <ul class="clearfix">
        <li class="active"><a href="/p2/issue01/index/">Issue 01, June 2013</a></li>
        <li class="pull-right">Page 1 / 6 </li>
    </ul>
</nav>

    <article>
    <header>
        <h1>Uncovering Your Data's Dark Matter</h1>
        <h3>Want to see deeper patterns in your data? Try looking at it in a new way, says Jen Smith</h3>
        <p class="byline">
        Words and Music by Jen Smith
        </p>
    </header>
    <div class="article-body"><blockquote><p>&ldquo;Lateral thinking is&hellip; concerned with breaking out of the concept prisons of old ideas. This leads to changes in attitude and approach; to looking in a different way at things which have always been looked at in the same way.&rdquo; &ndash; Edward De Bono</p></blockquote>

<p>We write applications which report on data in systems every day. And that data is a rich source of information that is used to understand your business and your customers better. What isn’t obvious is that this data can tell you more about your customers if you can see it in a different way.</p>

<p>But getting a fresh perspective on your existing data in its existing structure can be harder than it looks.  Your lines of investigation are constrained by the medium in which you store the data. We have to put into a fresh context to really see the patterns which tell a story. By exploring your data freed up from it&rsquo;s normal environments, you may discover insights and ideas. Lets have a look at some of the challenges here.</p>

<p>I was working with a client recently who wanted use their data to examine how their users interacted with the site and with each other. Their database contained several years worth of transactional data: they knew the answer would be in there. But their existing database made it hard to find the information they wanted. Trying to query interactions and relationships between users in the existing, relational database  quickly descended into complicated join statements and temporary tables. Aside from performance problems, the complexity of the SQL statements made the whole venture extremely frustrating.</p>

<p>This is a common problem. When choosing a database technology and structure we – quite reasonably – make our decision based on the best fit for the application. Unfortunately the choices we make can later constrain our ability to analyse and explore the data. So we decided that we had to break the data out of its existing structure and model it in a new way.</p>

<p>As a proof-of-concept, we loaded two years of data into a graph database. We didn&rsquo;t spend long developing a mature Extract-Transform-Load (ETL) process. It was more important to us to get feedback quickly on whether our approach was working.</p>

<p>Graph databases store data as graphs of nodes and relationships. For example, if you were analysing data from an online record store, you might model an album purchase as follows:</p>

<p><img src="/p2/images/dark-matter/1.png" alt="A simple relationship" /></p>

<p>As it stands, this resembles the original, relational database structure. Users, albums and artists, originally stored as tables, are now represented as nodes. Likewise, purchase information and links between albums and artists are now named, directed relationships between these nodes.</p>

<p>Things start to get interesting when you start to infer new relationships from the existing data and overlay them on the graph. For example, you could infer that I like Aphex Twin if I have bought two of his albums:</p>

<p><img src="/p2/images/dark-matter/2.png" alt="Inferred Relationship" /></p>

<p>Now from a simple database of music purchases, you can build up a graph of users and their preferred artists. You can start to use this information to start recommending music to me that I might enjoy:</p>

<p><img src="/p2/images/dark-matter/3.png" alt="Recommending Music" /></p>

<p>Perhaps I would enjoy Squarepusher too as my friend Bob &ndash; a fellow Aphex Twin enthusiast &ndash; is a fan.</p>

<p>Graph database show their strength when you introduce graph theory. The shortest path between Aphex Twin and Squarepusher can indicate their musical similarity. You can cluster artists by their fan’s tastes or calculate the clustering coefficient to measure whether users purchase a broad range of genres or they are all really into Drill n&#8217; Bass.</p>

<p>The graph database allowed us to traverse relationships in our data that were hard to access in the original structure. This solved our initial problem, but more excitingly than that, simply changing the way we stored our data opened up a wealth of new ideas and possibilities that we had not thought of before.</p>

<p>Graphs are a powerful way of modelling your data to discover new insights, but other database technologies can open up different areas of exploration. For example, Datomic organises data as a series of time based facts allowing you to explore user behaviour over time such as “2013-02-04 Jen bought ‘Classics’. Document databases are great for unstructured data and relational databases are still great for aggregating and slicing up data. When was the last time you de-normalised a NoSQL store into DB2 to glean insight?</p>

<blockquote><p>&ldquo;A moment&rsquo;s insight is sometimes worth a life&rsquo;s experience.&rdquo; &ndash; Oliver Wendell Holmes, Jr.</p></blockquote>
</div>
    <aside class="left-column clearfix">
   <div class="author">
      
      <div>
         <a href="#">
            <img class="author-avatar" src="/p2/images/jen-avatar.jpg"/>
         </a>
         <div>Jen Smith</div>
         
         <a href="http://twitter.com/jennifersmithco">@jennifersmithco</a>
         
      </div>
      
   </div>
</aside>

    <footer>
    </footer>
</article>

</section>

</div>
<div id="bottom-pages">
    <nav class="paginate">
  
    <a id="prev" href="/p2/issue01/index/" class="prev">&#9664;</a>
    <script type="text/javascript">
      key('left', function() {
        window.open($("#prev")[0].href, '_self', false);
      });
    </script>
  
  
    <a id="next" href="/p2/issue01/big-data/" class="next">&#9654;</a>
    <script type="text/javascript">
      key('right', function(){
        window.open($("#next")[0].href, '_self', false);
      });
    </script>
  
</nav>

</div>
</body>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script type="text/javascript">
if (typeof jQuery == 'undefined') {
    document.write(unescape("%3Cscript src='assets/js/jquery-1.8.2.min.js' type='text/javascript'%3E%3C/script%3E"));
}
</script>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-41328116-1', 'thoughtworks.github.io');
ga('send', 'pageview');
</script>
<script>
$(function() {
    setTimeout(function() {
        $("<span>&nbsp;</span>").appendTo(".cover");
    }, 100);
});
</script>
</html>
